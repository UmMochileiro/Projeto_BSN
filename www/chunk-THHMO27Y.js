import{a as K,b as Q}from"./chunk-DYYB6MAR.js";import{$ as B,B as _,C as v,E as S,F as k,G as w,H as F,O as E,T,Z as z,_ as j,aa as A,ba as V,ca as L,da as $,e as C,ea as H,f as P,fa as N,g as M,h as s,i as u,j as O,k as l,la as R,o as p,p as n,q as a,qa as U,r as g,ra as q,s as b,t as y,ta as G,u as f,ua as J,w as m,x,y as I}from"./chunk-KEGYBPVN.js";import"./chunk-G5DBTQCY.js";import"./chunk-4G7SAIE5.js";import"./chunk-LRSHVU3G.js";import"./chunk-473DEPGT.js";import"./chunk-CKIBZVXW.js";import"./chunk-PS2NURIG.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-6MDLUQIX.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-RW4GY4BD.js";function X(o,i){o&1&&(n(0,"div",5)(1,"p"),m(2,"Voc\xEA n\xE3o tem Pok\xE9mons favoritos."),a(),n(3,"ion-button",6),m(4,"Ver Pok\xE9mons"),a()())}function Y(o,i){if(o&1&&g(0,"img",12),o&2){let c=f().$implicit;p("src",c.image||"assets/default.png",M)("alt",c.name||"Pokemon image")}}function Z(o,i){if(o&1){let c=b();n(0,"ion-card",7)(1,"div",8),l(2,Y,1,2,"img",9),n(3,"ion-button",10),y("click",function(){let e=C(c).$implicit,r=f();return P(r.removerFavorito(e))}),g(4,"ion-icon",11),a()(),n(5,"ion-card-header")(6,"ion-card-title"),m(7),_(8,"titlecase"),a(),n(9,"ion-card-subtitle"),m(10),_(11,"titlecase"),a()(),n(12,"ion-card-content")(13,"p"),m(14),_(15,"titlecase"),a()()()}if(o&2){let c=i.$implicit,t=f();s(2),p("ngIf",c.image),s(5),x(v(8,4,c.name)),s(3),I("Tipo: ",v(11,6,t.types(c))),s(4),x(v(15,8,c.description))}}var dt=(()=>{let i=class i{constructor(t,e){this.pokemonService=t,this.favoritosService=e,this.favoritos=[]}ngOnInit(){this.favoritosService.favoritos.subscribe(t=>{this.favoritos=t,this.carregarDetalhesFavoritos()})}carregarDetalhesFavoritos(){this.favoritos.forEach(t=>{(!t.types||t.types.length===0||!t.image)&&this.pokemonService.getPokemonTypes(t.name).subscribe({next:e=>{var r,d,h;t.types=Array.isArray(e.types)?e.types.map(W=>W.type.name):[],t.image=((h=(d=(r=e==null?void 0:e.sprites)==null?void 0:r.other)==null?void 0:d["official-artwork"])==null?void 0:h.front_default)||""},error:()=>{t.types=[],t.image=""}}),t.description||this.pokemonService.getPokemonSpecies(t.name).subscribe({next:e=>{let r=Array.isArray(e.flavor_text_entries)?e.flavor_text_entries.find(d=>d.language.name==="pt")||e.flavor_text_entries.find(d=>d.language.name==="en"):null;t.description=r?r.flavor_text.replace(/\f/g," "):"Sem descri\xE7\xE3o"},error:()=>{t.description="Sem descri\xE7\xE3o"}})})}removerFavorito(t){this.favoritosService.toggleFavorito(t)}types(t){return t.types?t.types.join(", "):"Carregando..."}};i.\u0275fac=function(e){return new(e||i)(u(K),u(Q))},i.\u0275cmp=O({type:i,selectors:[["app-favoritos"]],decls:11,vars:2,consts:[["slot","start"],["placeholder","Procurar Pok\xE9mon favorito"],["class","no-favoritos",4,"ngIf"],[1,"pokemon-grid"],["class","pokemon-card",4,"ngFor","ngForOf"],[1,"no-favoritos"],["routerLink","/pagina/pokemons"],[1,"pokemon-card"],[1,"image-container"],[3,"src","alt",4,"ngIf"],["fill","clear",1,"favorite-button",3,"click"],["name","star-sharp","slot","icon-only","color","warning"],[3,"src","alt"]],template:function(e,r){e&1&&(n(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),g(3,"ion-menu-button"),a(),n(4,"ion-title"),m(5,"Meus Favoritos"),a()()(),n(6,"ion-content"),g(7,"ion-searchbar",1),l(8,X,5,0,"div",2),n(9,"div",3),l(10,Z,16,10,"ion-card",4),a()()),e&2&&(s(8),p("ngIf",r.favoritos.length===0),s(2),p("ngForOf",r.favoritos))},dependencies:[G,z,E,J,B,A,V,L,$,N,q,j,R,U,H,F,S,k,w,T],styles:[".pokemon-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(22%,1fr));gap:10px;padding:10px}.pokemon-card[_ngcontent-%COMP%]{width:100%;margin:0;height:100%}.pokemon-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:contain;padding:10px;background-color:transparent}.pokemon-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]{padding:10px}.pokemon-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-title[_ngcontent-%COMP%]{font-size:1rem}.pokemon-card[_ngcontent-%COMP%]   ion-card-header[_ngcontent-%COMP%]   ion-card-subtitle[_ngcontent-%COMP%]{font-size:.8rem}.pokemon-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{max-height:120px;overflow:auto;padding:10px;font-size:.8rem}@media (max-width: 768px){.pokemon-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}}@media (max-width: 480px){.pokemon-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.pokemon-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]{position:relative;width:100%}.pokemon-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:150px;object-fit:contain;padding:10px;background-color:transparent}.pokemon-card[_ngcontent-%COMP%]   .image-container[_ngcontent-%COMP%]   .favorite-button[_ngcontent-%COMP%]{position:absolute;top:0;right:0;margin:0;--padding-start: 4px;--padding-end: 4px;--padding-top: 4px;--padding-bottom: 4px;--box-shadow: none;z-index:10}.no-favoritos[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;height:50vh;padding:2rem;margin:2rem;background-color:transparent;border-radius:12px;box-shadow:0 4px 12px #0000000d}.no-favoritos[_ngcontent-%COMP%]   .empty-icon[_ngcontent-%COMP%]{font-size:80px;color:#ffc107;margin-bottom:1rem}.no-favoritos[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#333;font-size:1.5rem;margin-bottom:.5rem}.no-favoritos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:2rem;max-width:300px}.no-favoritos[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{--border-radius: 24px;--padding-start: 1.5rem;--padding-end: 1.5rem;height:48px;font-weight:500}"]});let o=i;return o})();export{dt as FavoritosPage};
