import{a as Z,b as ee}from"./chunk-DYYB6MAR.js";import{$ as A,A as I,B as b,C as v,D as E,E as w,F as D,G as F,H as T,L as N,T as z,W as B,Z as j,_ as H,aa as L,ba as q,da as V,ea as R,fa as U,g as M,ga as $,h as r,ha as G,i as u,ia as J,j as O,k as _,na as K,o as d,oa as Q,p as e,q as n,qa as W,r as p,ra as X,t as S,ta as Y,u as P,v as y,w as a,x as g,y as h}from"./chunk-KEGYBPVN.js";import"./chunk-G5DBTQCY.js";import"./chunk-4G7SAIE5.js";import"./chunk-LRSHVU3G.js";import"./chunk-473DEPGT.js";import"./chunk-CKIBZVXW.js";import"./chunk-PS2NURIG.js";import"./chunk-4U6PRYVA.js";import"./chunk-FXFZIWDD.js";import"./chunk-CSG5OQLY.js";import"./chunk-VMHM3MLJ.js";import"./chunk-6MDLUQIX.js";import"./chunk-C5RQ2IC2.js";import"./chunk-42C7ZIID.js";import"./chunk-RW4GY4BD.js";var te=(s,l,i,t,o,c)=>({hp:s,attack:l,defense:i,"special-attack":t,"special-defense":o,speed:c});function ne(s,l){s&1&&(e(0,"div",8),p(1,"ion-spinner",9),e(2,"p"),a(3,"Carregando detalhes..."),n()())}function ie(s,l){s&1&&(e(0,"div",10),p(1,"ion-icon",11),e(2,"p"),a(3,"N\xE3o foi poss\xEDvel carregar as informa\xE7\xF5es deste Pok\xE9mon."),n(),e(4,"ion-button",12),a(5,"Voltar para a lista"),n()())}function oe(s,l){if(s&1&&(e(0,"div",23)(1,"div",24),a(2),n(),e(3,"div",25),p(4,"div",26),n(),e(5,"div",27),a(6),n()()),s&2){let i=l.$implicit,t=P(2);r(2),g(i.value),r(2),y("width",t.getStatPercentage(i.value),"%"),d("ngClass",I(5,te,i.name==="hp",i.name==="attack",i.name==="defense",i.name==="special-attack",i.name==="special-defense",i.name==="speed")),r(2),g(t.getNiceStatName(i.name))}}function ae(s,l){if(s&1&&(e(0,"div",13)(1,"div",14)(2,"div",15),p(3,"img",16),n(),e(4,"div",17)(5,"h1"),a(6),b(7,"titlecase"),e(8,"span",18),a(9),n()()()(),e(10,"ion-card")(11,"ion-card-header")(12,"ion-card-title"),a(13,"Descri\xE7\xE3o"),n()(),e(14,"ion-card-content")(15,"p"),a(16),n()()(),e(17,"ion-card")(18,"ion-card-header")(19,"ion-card-title"),a(20,"Caracter\xEDsticas"),n()(),e(21,"ion-card-content")(22,"ion-list",19)(23,"ion-item")(24,"ion-label"),a(25,"Altura"),n(),e(26,"ion-note",2),a(27),n()(),e(28,"ion-item")(29,"ion-label"),a(30,"Peso"),n(),e(31,"ion-note",2),a(32),n()(),e(33,"ion-item")(34,"ion-label"),a(35,"Habilidades"),n(),e(36,"ion-note",2),a(37),b(38,"titlecase"),n()()()()(),e(39,"ion-card")(40,"ion-card-header")(41,"ion-card-title"),a(42,"Estat\xEDsticas"),n()(),e(43,"ion-card-content")(44,"div",20)(45,"h2",21),a(46,"Estat\xEDsticas"),n(),_(47,oe,7,12,"div",22),n()()()()),s&2){let i=P();r(3),d("src",i.pokemon.image||"assets/default.png",M)("alt",i.pokemon.name),r(3),h("",v(7,9,i.pokemon.name)," "),r(3),h("#",i.pokemon.id),r(7),g(i.pokemon.description),r(11),h("",i.pokemon.height," m"),r(5),h("",i.pokemon.weight," kg"),r(5),g(v(38,11,i.pokemon.abilities.join(", "))),r(10),d("ngForOf",i.pokemon.stats)}}var fe=(()=>{let l=class l{constructor(t,o,c){this.route=t,this.pokemonService=o,this.favoritosService=c,this.pokemon={name:"",id:0,height:0,weight:0,types:[],stats:[],abilities:[],image:"",description:"",favorito:!1},this.loading=!0,this.error=!1}ngOnInit(){let t=this.route.snapshot.paramMap.get("name");t?this.loadPokemonDetails(t):(this.error=!0,this.loading=!1)}loadPokemonDetails(t){this.loading=!0,this.error=!1,this.pokemonService.getPokemonTypes(t).subscribe({next:o=>{var c,x,C;this.pokemon.name=o.name,this.pokemon.id=o.id,this.pokemon.height=o.height/10,this.pokemon.weight=o.weight/10,this.pokemon.types=o.types.map(m=>m.type.name),this.pokemon.image=((C=(x=(c=o==null?void 0:o.sprites)==null?void 0:c.other)==null?void 0:x["official-artwork"])==null?void 0:C.front_default)||"",this.pokemon.abilities=o.abilities.map(m=>m.ability.name),this.pokemon.stats=o.stats.map(m=>({name:m.stat.name,value:m.base_stat})),this.favoritosService.favoritos.subscribe(m=>{let k=m||[];this.pokemon.favorito=k.some(f=>f.name===t)}),this.pokemonService.getPokemonSpecies(t).subscribe({next:m=>{let k=m.flavor_text_entries.find(f=>f.language.name==="pt")||m.flavor_text_entries.find(f=>f.language.name==="en");this.pokemon.description=k?k.flavor_text.replace(/\f/g," "):"Sem descri\xE7\xE3o",this.loading=!1},error:()=>{this.pokemon.description="Sem descri\xE7\xE3o dispon\xEDvel",this.loading=!1}})},error:()=>{this.error=!0,this.loading=!1}})}toggleFavorito(){this.pokemon.favorito=!this.pokemon.favorito;let t={name:this.pokemon.name,url:"",favorito:this.pokemon.favorito,types:this.pokemon.types,image:this.pokemon.image,description:this.pokemon.description};this.pokemon.favorito?this.favoritosService.adicionarFavorito(t):this.favoritosService.removerFavorito(t)}getStatPercentage(t){return Math.min(t/255*100,100)}getTypeColor(t){return{normal:"medium",fire:"danger",water:"primary",grass:"success",electric:"warning",ice:"tertiary",fighting:"danger",poison:"secondary",ground:"warning",flying:"tertiary",psychic:"tertiary",bug:"success",rock:"medium",ghost:"dark",dragon:"tertiary",dark:"dark",steel:"medium",fairy:"tertiary"}[t]||"medium"}getNiceStatName(t){return{hp:"HP",attack:"Ataque",defense:"Defesa","special-attack":"Ataque Especial","special-defense":"Defesa Especial",speed:"Velocidade"}[t]||t}};l.\u0275fac=function(o){return new(o||l)(u(N),u(Z),u(ee))},l.\u0275cmp=O({type:l,selectors:[["app-pokemon-detalhes"]],decls:14,vars:7,consts:[["slot","start"],["defaultHref","/pagina/pokemons"],["slot","end"],[3,"click"],["slot","icon-only","color","warning",3,"name"],["class","loading-container",4,"ngIf"],["class","error-container",4,"ngIf"],["class","pokemon-details",4,"ngIf"],[1,"loading-container"],["name","crescent"],[1,"error-container"],["name","alert-circle-outline","size","large"],["routerLink","/pagina/pokemons"],[1,"pokemon-details"],[1,"pokemon-header"],[1,"pokemon-image-container"],[3,"src","alt"],[1,"pokemon-info"],[1,"pokemon-id"],["lines","none"],[1,"stat-container"],[1,"stat-title"],["class","stat-bar",4,"ngFor","ngForOf"],[1,"stat-bar"],[1,"stat-value"],[1,"stat-bar-container"],[1,"stat-bar-fill",3,"ngClass"],[1,"stat-name"]],template:function(o,c){o&1&&(e(0,"ion-header")(1,"ion-toolbar")(2,"ion-buttons",0),p(3,"ion-back-button",1),n(),e(4,"ion-title"),a(5),b(6,"titlecase"),n(),e(7,"ion-buttons",2)(8,"ion-button",3),S("click",function(){return c.toggleFavorito()}),p(9,"ion-icon",4),n()()()(),e(10,"ion-content"),_(11,ne,4,0,"div",5)(12,ie,6,0,"div",6)(13,ae,48,13,"div",7),n()),o&2&&(r(5),g(v(6,5,c.pokemon.name)),r(4),d("name",c.pokemon.favorito?"star-sharp":"star-outline"),r(2),d("ngIf",c.loading),r(),d("ngIf",c.error),r(),d("ngIf",!c.loading&&!c.error))},dependencies:[T,E,w,D,F,z,Y,Q,j,J,$,G,K,U,X,H,B,W,R,A,q,V,L],styles:["ion-content[_ngcontent-%COMP%]{--background: #121212;--color: #ffffff}ion-card[_ngcontent-%COMP%]{background:#1e1e1e;color:#fff;border-radius:8px;margin-bottom:16px;box-shadow:0 4px 12px #0003}ion-card-header[_ngcontent-%COMP%]{padding-bottom:8px}ion-card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:600;color:#fff}.stat-container[_ngcontent-%COMP%]{background-color:#1e1e1e;padding:16px;border-radius:8px;margin-bottom:16px}.stat-title[_ngcontent-%COMP%]{color:#fff;font-size:1.5rem;margin-bottom:16px;font-weight:700}.stat-bar[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:16px;position:relative}.stat-bar[_ngcontent-%COMP%]   .stat-name[_ngcontent-%COMP%]{width:150px;font-size:1rem;color:#fff;font-weight:500}.stat-bar[_ngcontent-%COMP%]   .stat-value[_ngcontent-%COMP%]{position:absolute;left:0;font-weight:700;color:#fff;padding:4px 8px;min-width:40px;text-align:right}.stat-bar[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]{flex:1;height:12px;background-color:#ffffff1a;border-radius:6px;overflow:hidden;margin-left:60px}.stat-bar[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar-fill[_ngcontent-%COMP%]{height:100%;border-radius:6px;transition:width .5s ease}.stat-bar[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar-fill.hp[_ngcontent-%COMP%]{background:linear-gradient(90deg,#ff5959 30%,red)}.stat-bar[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar-fill.attack[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f5ac78 30%,#f08030)}.stat-bar[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar-fill.defense[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fae078 30%,#f8d030)}.stat-bar[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar-fill.special-attack[_ngcontent-%COMP%]{background:linear-gradient(90deg,#9db7f5 30%,#6890f0)}.stat-bar[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar-fill.special-defense[_ngcontent-%COMP%]{background:linear-gradient(90deg,#a7db8d 30%,#78c850)}.stat-bar[_ngcontent-%COMP%]   .stat-bar-container[_ngcontent-%COMP%]   .stat-bar-fill.speed[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fa92b2 30%,#f85888)}.pokemon-header[_ngcontent-%COMP%]{background-color:#1e1e1e;border-radius:8px;padding:20px;margin-bottom:16px}.pokemon-header[_ngcontent-%COMP%]   .pokemon-image-container[_ngcontent-%COMP%]{width:220px;height:220px;margin:0 auto 24px;background-color:#ffffff0d;border-radius:50%;padding:20px;display:flex;align-items:center;justify-content:center;box-shadow:0 8px 16px #0000004d}.pokemon-header[_ngcontent-%COMP%]   .pokemon-image-container[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%;object-fit:contain}.pokemon-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;font-size:2.5rem;text-align:center;margin-bottom:8px;font-weight:700;letter-spacing:.5px}.pokemon-info[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   .pokemon-id[_ngcontent-%COMP%]{color:#aaa;font-size:1.2rem;font-weight:400;margin-left:8px}.pokemon-types[_ngcontent-%COMP%]   ion-chip[_ngcontent-%COMP%]{--background: #e60000;--color: white;font-weight:500;height:28px;padding:0 12px}"]});let s=l;return s})();export{fe as PokemonDetalhesPage};
